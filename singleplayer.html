<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>YÄ±lan Oyunu</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Poppins:wght@300;400;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="container">
      <!-- Skin Sidebar -->
      <div class="skin-sidebar">
        <div class="skin-card">
          <div class="selection-row" style="display: flex; gap: 20px">
            <div class="selection-column" style="flex: 1">
              <h3 class="skin-title">YÄ±lan GÃ¶rÃ¼nÃ¼mÃ¼</h3>
              <div id="skin-options" class="skin-options"></div>
            </div>
            <div class="selection-column" style="flex: 1">
              <h3 class="skin-title">Harita TemasÄ±</h3>
              <div id="map-options" class="map-options"></div>
            </div>
          </div>
        </div>

        <!-- Fruit Points Legend -->
        <div class="skin-card" style="margin-top: 20px;">
            <h3 class="skin-title" style="margin-bottom: 1rem;">Puan Tablosu</h3>
            <div class="fruit-legend">
                <div class="fruit-item">
                    <span class="fruit-emoji">ğŸ</span>
                    <span class="fruit-name">Elma</span>
                    <span class="fruit-points">10</span>
                </div>
                <div class="fruit-item">
                    <span class="fruit-emoji">ğŸŠ</span>
                    <span class="fruit-name">Portakal</span>
                    <span class="fruit-points">15</span>
                </div>
                <div class="fruit-item">
                    <span class="fruit-emoji">ğŸ‹</span>
                    <span class="fruit-name">Limon</span>
                    <span class="fruit-points">12</span>
                </div>
                <div class="fruit-item">
                    <span class="fruit-emoji">ğŸ‡</span>
                    <span class="fruit-name">ÃœzÃ¼m</span>
                    <span class="fruit-points">20</span>
                </div>
                <div class="fruit-item">
                    <span class="fruit-emoji">ğŸ“</span>
                    <span class="fruit-name">Ã‡ilek</span>
                    <span class="fruit-points">18</span>
                </div>
            </div>
        </div>
      </div>

      <!-- Game Wrapper -->
      <div class="game-wrapper">
        <div class="header">
          <div style="display: flex; align-items: center; justify-content: center; gap: 15px; margin-bottom: 20px;">
            <span style="font-size: 50px; filter: drop-shadow(0 0 10px rgba(57, 255, 20, 0.5));">ğŸ</span>
            <h1 class="title">YILAN OYUNU</h1>
          </div>
          <div class="score-panel">
            <div class="score-item">
              <span class="label">SKOR</span>
              <span id="score" class="value">0</span>
            </div>
            <div class="score-item">
              <span class="label">EN YÃœKSEK</span>
              <span id="high-score" class="value">0</span>
            </div>
          </div>
        </div>

        <div class="game-container">
          <canvas id="game-canvas" width="500" height="500"></canvas>

          <!-- Overlays -->
          <div id="game-overlay" class="game-overlay">
            <div class="overlay-content">
              <h2 class="overlay-title">HazÄ±r mÄ±sÄ±n?</h2>
              <p class="overlay-text">
                Hareket etmek iÃ§in ok tuÅŸlarÄ±nÄ± veya WASD kullanÄ±n
              </p>
              <button id="start-button" class="start-button">
                Oyunu BaÅŸlat
              </button>
              
              <!-- Fullscreen Button -->
              <button 
                id="fullscreen-btn" 
                class="fullscreen-btn-overlay" 
                onclick="
                  var gameContainer = document.querySelector('.game-container');
                  if (!document.fullscreenElement) {
                    gameContainer.requestFullscreen()
                      .then(() => {
                        this.querySelector('.fullscreen-text').textContent = 'Tam Ekrandan Ã‡Ä±k';
                        this.classList.add('exit-fullscreen');
                      })
                      .catch(err => console.error(err));
                  } else {
                    document.exitFullscreen()
                      .then(() => {
                        this.querySelector('.fullscreen-text').textContent = 'Tam Ekran';
                        this.classList.remove('exit-fullscreen');
                      });
                  }
                "
                style="cursor: pointer !important;">
                <span class="fullscreen-icon">â›¶</span>
                <span class="fullscreen-text">Tam Ekran</span>
              </button>
            </div>
          </div>

          <div id="game-over-overlay" class="game-overlay hidden">
            <div class="overlay-content">
              <h2 class="overlay-title game-over">Oyun Bitti!</h2>
              <p class="overlay-text">Son Skor</p>
              <div id="final-score" class="final-score">0</div>
              <button id="restart-button" class="start-button">
                Tekrar Oyna
              </button>
              
              <!-- Smart Fullscreen Toggle Button in Game Over -->
              <button 
                id="gameover-fullscreen-btn"
                class="fullscreen-btn-overlay" 
                onclick="
                  var gameContainer = document.querySelector('.game-container');
                  if (!document.fullscreenElement) {
                    gameContainer.requestFullscreen()
                      .then(() => {
                        this.querySelector('.fullscreen-text').textContent = 'Tam Ekrandan Ã‡Ä±k';
                        this.classList.add('exit-fullscreen');
                      })
                      .catch(err => console.error(err));
                  } else {
                    document.exitFullscreen()
                      .then(() => {
                        this.querySelector('.fullscreen-text').textContent = 'Tam Ekran';
                        this.classList.remove('exit-fullscreen');
                      });
                  }
                "
                style="cursor: pointer !important;">
                <span class="fullscreen-icon">â›¶</span>
                <span class="fullscreen-text">Tam Ekran</span>
              </button>
            </div>
          </div>
        </div>

        <div class="controls-info">
          <div class="control-item">
            <span class="key">â†‘â†“â†â†’</span>
            <span class="description">Hareket</span>
          </div>
          <div class="control-item">
            <span class="key">Space</span>
            <span class="description">Duraklat</span>
          </div>
        </div>

        <!-- Swipe Instructions for Mobile -->
        <div id="swipe-info" class="swipe-info">
          <div class="swipe-info-title">ğŸ“± Mobil Kontroller</div>
          <div class="swipe-info-text">
            Oyun alanÄ±nda parmaÄŸÄ±nÄ±zÄ± kaydÄ±rarak y lanÄ± yÃ¶nlendirin
          </div>
        </div>
      </div>

      <!-- Promo Sidebar -->
      <div class="promo-sidebar">
        <div class="promo-card">
          <div class="promo-icon">ğŸ“¸</div>
          <h3 class="promo-title">Takip Et!</h3>
          <div class="promo-username">@kaan.doc</div>
          <p class="promo-text">Instagram'da benimle baÄŸlantÄ±da kalÄ±n</p>
          <a href="https://instagram.com/kaan.doc" target="_blank" class="promo-button">
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              style="flex-shrink: 0"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M7.46154 0C3.34062 0 0 3.34062 0 7.46154V16.5385C0 20.6594 3.34062 24 7.46154 24H16.5385C20.6594 24 24 20.6594 24 16.5385V7.46154C24 3.34062 20.6594 0 16.5385 0H7.46154ZM16.5385 2.18182H7.46154C4.5456 2.18182 2.18182 4.5456 2.18182 7.46154V16.5385C2.18182 19.4544 4.5456 21.8182 7.46154 21.8182H16.5385C19.4544 21.8182 21.8182 19.4544 21.8182 16.5385V7.46154C21.8182 4.5456 19.4544 2.18182 16.5385 2.18182ZM12 5.81818C8.58578 5.81818 5.81818 8.58578 5.81818 12C5.81818 15.4142 8.58578 18.1818 12 18.1818C15.4142 18.1818 18.1818 15.4142 18.1818 12C18.1818 8.58578 15.4142 5.81818 12 5.81818ZM12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8ZM18.7273 6.36364C19.3298 6.36364 19.8182 5.87523 19.8182 5.27273C19.8182 4.67023 19.3298 4.18182 18.7273 4.18182C18.1248 4.18182 17.6364 4.67023 17.6364 5.27273C17.6364 5.87523 18.1248 6.36364 18.7273 6.36364Z"
                fill="white"
              />
            </svg>
            <div style="display: flex; flex-direction: column; align-items: flex-start;">
              <span style="font-size: 0.8rem; opacity: 0.9">Instagram'da</span>
              <span style="font-size: 1.1rem">Takip Et</span>
            </div>
          </a>
        </div>
      </div>
    </div>
    <script src="storage.js"></script>
    <script src="game.js"></script>
  </body>
</html>
